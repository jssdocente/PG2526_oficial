# üîÑ EC06.3 De Estructurada a Orientada a Objetos

En la unidad anterior (Arrays), resolvimos problemas complejos utilizando matrices y *arrays paralelos*. Aunque funcionaba, el c√≥digo resultante sol√≠a ser dif√≠cil de leer y mantener (bucles anidados, √≠ndices confusos `i`, `j`...).

En esta actividad vamos a **refactorizar** (reescribir y mejorar) esos ejercicios utilizando **POO**. Ver√°s c√≥mo el c√≥digo se vuelve mucho m√°s limpio y l√≥gico.

> üìÇ **Recursos**: Tienes a tu disposici√≥n una carpeta llamada `B06.1_base` con la estructura del proyecto ya creada y clases "esqueleto" con comentarios `// TODO` que te guiar√°n paso a paso. √ösala como punto de partida.

---

## üõí Ejercicio 1: Gesti√≥n de Ventas (Refactorizaci√≥n)
*Basado en UT5/B05.2 - Ejercicio 3*

**Antes:** Ten√≠amos precios sueltos y una matriz de cantidades donde las filas eran art√≠culos y las columnas sucursales (o viceversa). Un l√≠o de √≠ndices.
**Ahora:** Vamos a representar la realidad con clases.

### üìù Tu tarea:

#### 1. Clase `Articulo`
Crea una clase simple para guardar la informaci√≥n de un producto.
- **Atributos**: `id` (int), `nombre` (String), `precio` (double).
- **Constructor** y **Getters**.

#### 2. Clase `Sucursal`
Cada sucursal gestionar√° sus propias ventas.
- **Atributos**: 
    - `id` (int).
    - `cantidadesVendidas`: Un array de enteros `int[]`. Cada posici√≥n corresponde a un art√≠culo del cat√°logo.
- **Constructor**: Recibe el `id` y el n√∫mero total de art√≠culos en el cat√°logo para inicializar el array de cantidades a 0.
- **M√©todos**:
    - `registrarVenta(int indiceArticulo, int cantidad)`: Suma la cantidad al art√≠culo indicado.
    - `obtenerRecaudacion(Articulo[] catalogo)`: Recorre su array de ventas y, cruzando datos con el array de art√≠culos (precios), calcula el total recaudado. *¬°F√≠jate que recibe el cat√°logo como par√°metro para consultar precios!*
    - `getCantidadTotalArticulos()`: Devuelve cu√°ntos art√≠culos ha vendido en total.

#### 3. Clase `GestionEmpresa` (Main)
- Crea un **Cat√°logo** (Array de `Articulo`).
- Crea una **Empresa** (Array de `Sucursal`). Inicializa, por ejemplo, 4 sucursales.
- **Simulaci√≥n**: Registra algunas ventas en diferentes sucursales.
- **Reportes**:
    - Muestra la recaudaci√≥n de cada sucursal (llamando a `s.obtenerRecaudacion()`).
    - Muestra la sucursal que m√°s ha recaudado.
    - *Opcional*: Muestra qu√© art√≠culo se ha vendido m√°s en total sumando todas las sucursales.

> üí° **Reflexi√≥n**: ¬øVes c√≥mo han desaparecido los bucles `for` anidados complejos del Main? Ahora cada objeto es responsable de sus c√°lculos.

---

## ‚öΩ Ejercicio 2: La Quiniela 2.0 (Refactorizaci√≥n)
*Basado en UT5/B05.2 - Ejercicio 4*

**Antes:** Ten√≠amos una matriz `String[][]` para nombres de equipos y otra `int[][]` para goles. Ten√≠amos que recordar que la columna 0 era local y la 1 visitante.

**Ahora:** Vamos a encapsular cada partido en un objeto.

### üìù Tu tarea:

#### 1. Clase `Partido`

Representa un √∫nico encuentro de la jornada.
- **Atributos Privados**:
    - `equipoLocal` (String)
    - `equipoVisitante` (String)
    - `golesLocal` (int)
    - `golesVisitante` (int)
    - `jugado` (boolean): Para saber si ya tenemos resultado.

- **Constructor**: Recibe solo los nombres de los equipos. Inicializa goles a 0 y `jugado` a false.
- **M√©todos**:
    - `setResultado(int golesL, int golesV)`: Guarda el marcador y marca `jugado = true`.
    - `getResultadoQuiniela()`: Devuelve "1" (gana local), "X" (empate) o "2" (gana visitante).
    - `toString()`: Devuelve un texto bonito, por ejemplo: *"Real Madrid vs Bar√ßa [2 - 1] -> (1)"*.

#### 2. Clase `Quiniela` (Main)

- Crea un array `Partido[] jornada = new Partido[15];`.
- Rellena la jornada con partidos (puedes invent√°rtelos o pedirlos).
- Pide al usuario (o simula aleatoriamente) los resultados de cada partido usando `p.setResultado()`.
- **Imprimir Quiniela**: Recorre el array e imprime cada partido.
    - Al usar `toString()` en la clase `Partido`, el bucle del main ser√° una sola l√≠nea:
      ```java
      for (Partido p : jornada) {
          System.out.println(p);
      }
      ```
