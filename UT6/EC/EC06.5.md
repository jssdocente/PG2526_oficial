# üöÅ EC06.5 SkyNet Logistics: Gesti√≥n de Flota

## üìù Descripci√≥n
Eres el Ingeniero Jefe de **SkyNet Logistics**, una startup de mensajer√≠a futurista. Tu misi√≥n es dise√±ar el software que controlar√° la nueva flota de drones aut√≥nomos. 

El sistema debe ser robusto (no queremos drones cayendo del cielo), eficiente y escalable. Para ello, aplicar√°s todo lo aprendido sobre **Programaci√≥n Orientada a Objetos**.

---

## üß± Fase 1: El Prototipo (Enums y Encapsulamiento)

Antes de volar, debemos definir qu√© es un Dron y asegurar sus reglas de funcionamiento.

1.  **Tipo de Dron (Enum)**:
    *   Crea un `enum` llamado `TipoDron` con los valores: `VIGILANCIA`, `REPARTO`, `CARRERAS`. Esto evitar√° errores al teclear los modelos.
2.  **Clase Dron**:
    *   Crea la clase `Dron` con los siguientes atributos **protected**:
        *   `codigo` (String): Identificador √∫nico (ej: "DR-001").
        *   `tipo` (`TipoDron`): El modelo del dron.
        *   `bateria` (int): Porcentaje de carga.
        *   `altura` (double): Altura actual en metros.

3.  **Encapsulamiento y Validaciones**:

    *   Genera los **Getters y Setters**.
    *   **Importante**: Aplica l√≥gica de seguridad en los setters:
        *   `setBateria(int)`: Solo admite valores entre **0 y 100**. Si pasan de 100, se queda en 100. Si es negativo, 0.
        *   `setAltura(double)`: No puede ser negativa. Adem√°s, por ley, **no pueden superar los 120 metros de altura**. Aseg√∫rate de que nadie pueda subir m√°s alto (si intentan subir a 150m, se queda en 120m).

#### üß™ Valida la Fase 1
```java
Dron d1 = new Dron(); 
d1.setBateria(150);
System.out.println(d1.getBateria()); // Deber√≠a imprimir 100

d1.setAltura(BIT_LIMIT + 50); // Intenta subir mucho
System.out.println(d1.getAltura()); // Deber√≠a imprimir 120 (o tu constante)
```

---

## üè≠ Fase 2: F√°brica Inteligente (Constructores)

Necesitamos flexibilidad para fabricar unidades. Usa la **sobrecarga** de constructores.

1.  **Constructor Completo**:
    *   Recibe `codigo`, `tipo`, `bateria`. (La altura inicial siempre es 0).
2.  **Constructor R√°pido (Default)**:
    *   Solo recibe `codigo`.
    *   Asigna por defecto: `TipoDron.REPARTO`, `bateria` al 100% y `altura` 0.
    *   *Pista: Puedes usar `this()` para llamar al otro constructor o asignar los valores directamente.*

#### üß™ Valida la Fase 2
```java
Dron custom = new Dron("C-001", TipoDron.VIGILANCIA, 50);
System.out.println(custom.getTipo()); // VIGILANCIA

Dron rapido = new Dron("R-999");
System.out.println(rapido.getTipo()); // REPARTO
System.out.println(rapido.getBateria()); // 100
```

---

## üåç Fase 3: Control Global (Static y Constantes)

Datos que afectan a todo SkyNet, no a un dron individual.

1.  **Constantes**:
    *   Define `TECHO_DE_VUELO` como constante publica (`120`). √ösala en la validaci√≥n de tu `setAltura` en lugar de escribir "120" a mano.
2.  **Contador de Flota**:
    *   A√±ade un atributo est√°tico `private static int contadorDrones = 0`.
    *   Incrementa este contador (+1) en **todos** los constructores cada vez que se cree un objeto.
3.  **Informes**:
    *   Crea un m√©todo `public static void mostrarInformeFlota()` que imprima: *"Actualmente hay X drones registrados en el sistema"*.

#### üß™ Valida la Fase 3
```java
// Justo al arrancar el programa, antes de crear nada:
Dron.mostrarInformeFlota(); // "Hay 0 drones..."

new Dron("A");
new Dron("B");
Dron.mostrarInformeFlota(); // "Hay 2 drones..." (¬°Si has implementado bien el contador!)
```

---

## ‚öñÔ∏è Fase 4: Auditor√≠a (Comparaci√≥n de Objetos)

¬øCu√°ndo son dos drones "iguales"? ¬øCu√°l est√° mejor preparado?

1.  **Identidad vs Igualdad**:
    *   En el `Main`, crea dos drones con los mismos datos. Compara con `==` y verifica que da `false`.
2.  **M√©todo `esIgualA(Dron otro)`**:
    *   Implementa este m√©todo en la clase `Dron`. Devuelve `true` si ambos tienen el mismo **c√≥digo** (ignorando may√∫sculas/min√∫sculas).
3.  **M√©todo `esMasPotenteQue(Dron otro)`**:
    *   Devuelve `true` si `this.bateria` es mayor que la bateria del `otro` dron. √ötil para asignar misiones largas.

#### üß™ Valida la Fase 4
```java
Dron d1 = new Dron("X-100");
Dron d2 = new Dron("X-100"); // Mismo c√≥digo

if (d1 == d2) System.out.println("Mal... son objetos distintos");
if (d1.esIgualA(d2)) System.out.println("¬°Bien! L√≥gicamente son el mismo dron");

d1.setBateria(10);
d2.setBateria(50);
System.out.println(d2.esMasPotenteQue(d1)); // true
```

---

## üß¨ Fase 5: Evoluci√≥n (Herencia)

Los clientes piden env√≠os pesados. Necesitamos un modelo especializado.

1.  Crea la clase `DronPesado` que herede de `Dron` (`extends`).
2.  A√±ade el atributo propio: `private double cargaKg`.
3.  Implementa su constructor (recuerda usar `super(...)` primero).
4.  **Sobreescritura (`@Override`)**:
    *   Crea un m√©todo `toString()` en `Dron` que muestre sus datos.
    *   En `DronPesado`, sobreescribe `toString()` para que a√±ada la etiqueta *"[PESADO - Carga: Xkg]"* a la informaci√≥n base.

#### üß™ Valida la Fase 5
```java
DronPesado heavy = new DronPesado("H-500", 50.5); // Carga 50.5kg
System.out.println(heavy.toString()); 
// Deber√≠a salir algo como: "Dron H-500 (REPARTO) - Bat:100% [PESADO - Carga: 50.5kg]"
```

---

## üîã Fase 6: Misi√≥n Cooperativa (Interacci√≥n)

A veces un dron necesita ayuda en el aire.

1.  A√±ade a `Dron` el m√©todo: `public void transferirEnergia(Dron receptor, int cantidad)`.
2.  **L√≥gica**:
    *   Verifica que el emisor tiene suficiente bater√≠a.
    *   Resta `cantidad` al emisor.
    *   Suma `cantidad` al receptor (¬°Ojo! Usa los setters para que no pase de 100%).
    *   Suma `cantidad` al receptor (¬°Ojo! Usa los setters para que no pase de 100%).
    *   Muestra un mensaje: *"‚ö° Dron A transfiere 20% a Dron B"*.

#### üß™ Valida la Fase 6
```java
Dron donante = new Dron("DONANTE", TipoDron.REPARTO, 100);
Dron receptor = new Dron("RECEPTOR", TipoDron.REPARTO, 20);

donante.transferirEnergia(receptor, 30);

System.out.println(donante.getBateria()); // 70
System.out.println(receptor.getBateria()); // 50
```

---

## üñ•Ô∏è Clase Principal (Main)

Ya lo has ido probando fase a fase. Ahora, monta un escenario completo de "Torre de Control":

1.  Crea un Main limpio.
2.  Instancia una flota variada (diferentes tipos y cargas).
3.  Simula una jornada de trabajo: algunos suben, otros gastan bater√≠a, unos se recargan entre s√≠...
4.  Muestra el estado final de toda la flota.
