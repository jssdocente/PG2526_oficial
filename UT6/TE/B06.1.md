# â˜• B06.1 La Cafetera Inteligente

## ğŸ“„ Enunciado

La cadena de cafeterÃ­as **Starbucks** ğŸŒŸ necesita una aplicaciÃ³n para gestionar su nueva flota de cafeteras inteligentes.

Tu misiÃ³n es crear la clase `Cafetera` que controle el estado de cada mÃ¡quina. De cada una deberemos controlar:
- ğŸ†” **id**: NÃºmero correlativo asignado al fabricarse.
- ğŸ“ **tamaÃ±o**: Capacidad mÃ¡xima en ml.
- ğŸ’§ **cantidadActual**: Cantidad de cafÃ© disponible actualmente.

> **âš ï¸ Restricciones de la Marca**:
> - **TamaÃ±o MÃ­nimo**: 300 ml.
> - **TamaÃ±o MÃ¡ximo**: 3000 ml.
> *Estos lÃ­mites deben definirse como constantes (`MINIMO`, `MAXIMO`) para facilitar futuros cambios.*

AdemÃ¡s, la central necesita mÃ©tricas globales:
- ğŸ“Š **Total de cafeteras** creadas.
- ğŸš® **CafÃ© desperdiciado** (el que se tira al vaciar o limpiar).

---

### ğŸ­ 1. Constructores

Debes ofrecer tres formas de inicializar una cafetera:

1.  **Defecto**: TamaÃ±o 1000ml, VacÃ­a.
2.  **Por TamaÃ±o**: Se indica la capacidad. Si se sale de los lÃ­mites (300-3000), se ajusta al mÃ­nimo o mÃ¡ximo automÃ¡ticamente. Empieza **llena**.
3.  **Por TamaÃ±o y Cantidad**: Se indican ambos. Si la cantidad inicial supera la capacidad, se ajusta al mÃ¡ximo. Se aplican tambiÃ©n los lÃ­mites de tamaÃ±o.

> ğŸ”’ **Encapsulamiento**: AÃ±ade solo los Getters/Setters que sean estrictamente necesarios.

---

### ğŸ› ï¸ 2. MÃ©todos de Utilidad

La clase `Cafetera` debe incluir:

- ğŸš° **`llenarCafetera()`**: Llena la cafetera al mÃ¡ximo de su capacidad actual.
- â˜• **`servirTaza(TipoTaza)`**: Sirve una taza restando su capacidad.
    - **Tipos de Taza** (Enum):
        - `SHORT` (200ml)
        - `TALL` (300ml)
        - `GRANDE` (450ml)
        - `VENTI` (675ml)
        - `TRENTA` (900ml)
    - *Regla*: Si tras servir queda menos de 200ml, la cafetera se **vacÃ­a** automÃ¡ticamente (desperdiciando lo que quede).
- ğŸ—‘ï¸ **`vaciarCafetera()`**: Pone la cantidad a 0. Â¡Recuerda contabilizar lo tirado como desperdicio!
- â• **`agregarCafe(int)`**: AÃ±ade cafÃ© sin superar el mÃ¡ximo. Evita cantidades negativas.
- ğŸ–¨ï¸ **`imprimir()`**: Muestra el estado: `[ Cafetera: 2 | Capacidad: 3000ml | Cafe: 475ml ]`.
- ğŸ†š **`masLlena(Cafetera, Cafetera)`**: MÃ©todo estÃ¡tico que devuelve cuÃ¡l de las dos tiene mÃ¡s cafÃ©.

---

## ğŸ’» 3. Programa Principal

La compaÃ±Ã­a proporciona una clase `Principal` para verificar tu trabajo. La salida esperada debe coincidir con la siguiente lÃ³gica:

```java
public class Principal {
    public static void main(String[] args) {
        // --- ğŸ—ï¸ PRUEBA DE CONSTRUCTORES ---
        System.out.println("* Prueba de constructores");
        
        Cafetera c1 = new Cafetera();         // Defecto
        c1.imprimir();
        
        Cafetera c2 = new Cafetera(4000);     // Se ajusta a 3000
        c2.imprimir();
        
        Cafetera c3 = new Cafetera(100);      // Se ajusta a 300
        c3.imprimir();
        
        Cafetera c4 = new Cafetera(2000);     // Correcto
        c4.imprimir();
        
        Cafetera c5 = new Cafetera(1500, 0);  // VacÃ­a
        c5.imprimir();
        
        Cafetera c6 = new Cafetera(800, 500); // 500ml iniciales
        c6.imprimir();
        
        System.out.println();

        // --- ğŸš° PRUEBA DE LLENAR ---
        System.out.println("* Prueba de llenar cafetera");
        c5.imprimir();
        c5.llenarCafetera();
        c5.imprimir();
        
        System.out.println();

        // --- ğŸ—‘ï¸ PRUEBA DE VACIAR ---
        System.out.println("* Prueba de vaciar cafetera");
        c5.imprimir();
        c5.vaciarCafetera(); // Desperdicia 1500ml
        c5.imprimir();
        
        System.out.println();

        // --- â• PRUEBA DE AGREGAR ---
        System.out.println("* Prueba de agregar cafe");
        c1.agregarCafe(-100); // Error
        c1.agregarCafe(500);  // OK
        c1.imprimir();

        System.out.println();

        // --- â˜• PRUEBA DE SERVIR TAZA ---
        System.out.println("* Prueba de servir taza");
        c2.imprimir(); // Tiene 3000
        c2.servirTaza(TipoTaza.TRENTA); // 2100 quedan
        c2.servirTaza(TipoTaza.VENTI);  // 1425 quedan
        c2.servirTaza(TipoTaza.GRANDE); // 975 quedan
        c2.servirTaza(TipoTaza.TALL);   // 675 quedan
        c2.servirTaza(TipoTaza.SHORT);  // 475 quedan
        c2.imprimir();
        
        System.out.println();

        // --- âŒ PRUEBA FALTA CAFÃ‰ ---
        System.out.println("* Prueba de no hay suficiente cafÃ©");
        c6.imprimir(); // Tiene 500
        c6.servirTaza(TipoTaza.TRENTA); // Pide 900 -> No sirve
        c6.imprimir();
        
        System.out.println();

        // --- ğŸ“‰ PRUEBA VACIADO AUTOMÃTICO (<200ml) ---
        System.out.println("* Prueba de auto-vaciado");
        // c6 tiene 500. Servimos GRANDE (450). Quedan 50.
        // Como 50 < 200, se vacÃ­a y desperdicia 50.
        c6.servirTaza(TipoTaza.GRANDE); 
        c6.imprimir(); // DeberÃ­a estar vacÃ­a

        System.out.println();

        // --- ğŸ†š PRUEBA COMPARAR ---
        System.out.println("* Prueba de cafetera mÃ¡s llena");
        Cafetera ganadora = Cafetera.masLLena(c3, c4);
        System.out.print("Ganadora: ");
        ganadora.imprimir();
        
        System.out.println();

        // --- ğŸ“Š PRUEBA ESTADÃSTICAS ---
        System.out.println("* EstadÃ­sticas Globales");
        System.out.println("- Total Cafeteras: " + Cafetera.getNumCafeterasCreadas());
        System.out.println("- CafÃ© Desperdiciado: " + Cafetera.getCafeDesperdiciado() + "ml");
    }
}
```

---

## âœ… Criterios de CalificaciÃ³n

| Concepto | Puntos |
| :--- | :---: |
| DefiniciÃ³n atributos | **0.75** |
| Tipo Enumerado (Tazas) | **0.75** |
| Acumuladores estÃ¡ticos | **0.75** |
| Constructores (lÃ³gica lÃ­mites) | **2.25** |
| Servir Taza (lÃ³gica vaciado) | **1.50** |
| Llenar Cafetera | **0.75** |
| Vaciar Cafetera | **0.75** |
| Agregar CafÃ© | **0.75** |
| Imprimir | **0.75** |
| Comparador (`masLLena`) | **1.00** |

### â›” Penalizaciones
- **No compila**: -10 ptos.
- **Plagio / IA sin citar**: -10 ptos.
- **Nomenclatura incorrecta**: -1 pto.
    - Clases en `PascalCase`.
    - MÃ©todos/variables en `camelCase`.
    - Constantes en `UPPER_CASE`.
- **Getters/Setters innecesarios**: -1 pto c/u.



